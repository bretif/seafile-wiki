== Enable https on Seahub ==

To enable https, follow the following instructions step by step.

Here we use self-signed SSL digital certificate for free. If you use a paid ssl certificate from some authority, just skip the first step.

* Generate SSL digital certificate with OpenSSL
<pre>
    openssl genrsa -out privkey.pem 2048
    openssl req -new -x509 -key privkey.pem -out cacert.pem -days 1095
</pre>

* Enable SSL module of Nginx (optional)
If your Nginx does not support SSL, you need to recompile it, the commands are as follows:
<pre>
    ./configure --with-http_stub_status_module --with-http_ssl_module
    make && make install
</pre>

* Modify Nginx configuration file

Assume you have configured nginx as [Deploy-Seafile-Web-with-nginx-apache]. To use https, you need to modify your nginx configuration file.
<pre>
    server
    {
    listen 443;
    ssl on;
    ssl_certificate /etc/ssl/cacert.pem;	# path to your cacert.pem
    ssl_certificate_key /etc/ssl/privkey.pem;	# path to your privkey.pem
    server_name www.yourdoamin.com;    
    ......
    ......
    fastcgi_param   HTTPS   on;
    }
</pre>
* Reload Nginx
<pre>
    nginx -s reload
</pre>

* Test Https

Open your browser, and input https://www.yourdomain.com, if you see a security alert dialog, that means Https is enabled.

== Enable https on seafile httpserver ==

'''Note:''' This is available in seafile server 1.4 and later.

The configuration of seafile httpserver is in the file <code>seafile-data/seafile.conf</code>. To enable https on seafile httpserver, add the following lines to <code>seafile.conf</code>:
<pre>
[httpserver]
port=8082
https=true
pemfile=/path/to/pemfile
privkey=/path/to/privkey
</pre>

8082 is the recommended port, but you can use any port number that is available.

== Modify settings to use https ==

=== ccnet conf ===

Since you change from http to https, you need to modify the value of "SERVICE_URL" in <code>ccnet/ccnet.conf</code>:
<pre>
SERVICE_URL = https://your.server.domain
</pre>